<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-nginx配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/02/21/nginx%E9%85%8D%E7%BD%AE/" class="article-date">
  <time datetime="2022-02-21T06:43:07.000Z" itemprop="datePublished">2022-02-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/02/21/nginx%E9%85%8D%E7%BD%AE/">nginx配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="nginx配置可访问目录"><a href="#nginx配置可访问目录" class="headerlink" title="nginx配置可访问目录"></a>nginx配置可访问目录</h2><p>1.允许访问目录：autoindex on;<br>   location / {<br>            root   html;<br>            index  index.html index.htm;<br>            autoindex on;<br>        }</p>
<h2 id="域名指向端口"><a href="#域名指向端口" class="headerlink" title="域名指向端口"></a>域名指向端口</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/02/21/nginx%E9%85%8D%E7%BD%AE/" data-id="ckzxuvzds000a66mu12pw8hoz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/02/21/hello-world/" class="article-date">
  <time datetime="2022-02-21T06:40:44.842Z" itemprop="datePublished">2022-02-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/02/21/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/02/21/hello-world/" data-id="ckzxuvzdb000466mu6obk0dpk" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-docker" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/12/25/docker/" class="article-date">
  <time datetime="2021-12-25T03:39:29.000Z" itemprop="datePublished">2021-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/12/25/docker/">docker</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="常规操作"><a href="#常规操作" class="headerlink" title="常规操作"></a>常规操作</h2><p>mac 安装：   brew install –cask docker<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/40523307/brew-install-docker-does-not-include-docker-engine">https://stackoverflow.com/questions/40523307/brew-install-docker-does-not-include-docker-engine</a><br>docker版本查看   docker -v</p>
<h2 id="安装centos和宝塔"><a href="#安装centos和宝塔" class="headerlink" title="安装centos和宝塔"></a>安装centos和宝塔</h2><p>1.docker pull centos<br>2.docker run -i -t -d –name baota -p 20:20 -p 21:21 -p 80:80 -p 443:443 -p 888:888 -p 8888:8888 –privileged=true -v /home/www:/www centos     如果目录不能访问就换个目录比如（docker run -i -t -d –name baota -p 20:20 -p 21:21 -p 80:80 -p 443:443 -p 888:888 -p 8888:8888 –privileged=true -v /Users/zhangshuai/Desktop/installedsoftware/www:/www centos:7 /usr/sbin/init）<br>3.docker exec -it baota /bin/bash</p>
<h2 id="宝塔安装"><a href="#宝塔安装" class="headerlink" title="宝塔安装"></a>宝塔安装</h2><p>4.yum install -y wget &amp;&amp; wget -O install.sh <a target="_blank" rel="noopener" href="http://download.bt.cn/install/install.sh">http://download.bt.cn/install/install.sh</a> &amp;&amp; sh install.sh<br>docker-&gt;preferences-&gt;resource-&gt;file sharing</p>
<h2 id="删除所有已退出的容器"><a href="#删除所有已退出的容器" class="headerlink" title="删除所有已退出的容器"></a>删除所有已退出的容器</h2><p>docker rm $(docker ps -q -f status=exited)</p>
<p>删除所有已停止的容器<br>docker rm $(docker ps -a -q)</p>
<h2 id="删除所有正在运行和已停止的容器"><a href="#删除所有正在运行和已停止的容器" class="headerlink" title="删除所有正在运行和已停止的容器"></a>删除所有正在运行和已停止的容器</h2><pre><code>docker stop $(docker ps -a -q)
docker rm $(docker ps -a -q)
</code></pre>
<h2 id="删除所有容器，没有任何标准"><a href="#删除所有容器，没有任何标准" class="headerlink" title="删除所有容器，没有任何标准"></a>删除所有容器，没有任何标准</h2><p>docker container rm $(docker container ps -aq)</p>
<p>但是，在1.13及更高版本中，对于完整的系统和清理，我们可以直接使用以下命令，<br>docker system prune</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/25/docker/" data-id="ckzxuvzd1000266mu5ceug511" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-正则常用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/12/23/%E6%AD%A3%E5%88%99%E5%B8%B8%E7%94%A8/" class="article-date">
  <time datetime="2021-12-23T07:48:29.000Z" itemprop="datePublished">2021-12-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/12/23/%E6%AD%A3%E5%88%99%E5%B8%B8%E7%94%A8/">正则常用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="字母数字组合"><a href="#字母数字组合" class="headerlink" title="字母数字组合"></a>字母数字组合</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]&#123;8,16&#125;$</span><br></pre></td></tr></table></figure>
<p>分开来注释一下：<br>^ 匹配一行的开头位置<br>(?![0-9]+$) 预测该位置后面不全是数字<br>(?![a-zA-Z]+$) 预测该位置后面不全是字母<br>[0-9A-Za-z] {8,16} 由8-16位数字或这字母组成<br>$ 匹配行结尾位置</p>
<p>注：(?!xxxx) 是正则表达式的负向零宽断言一种形式，标识预该位置后不是xxxx字符。</p>
<h2 id="不允许输入中文"><a href="#不允许输入中文" class="headerlink" title="不允许输入中文"></a>不允许输入中文</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const keyUp = (e, type) =&gt; &#123;</span><br><span class="line">  // eslint-disable-next-line no-param-reassign</span><br><span class="line">  e.target.value = e.target.value.replace(/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/g, &#x27;&#x27;)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/23/%E6%AD%A3%E5%88%99%E5%B8%B8%E7%94%A8/" data-id="ckzxuvzdz000e66mu5u2w11ek" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-防抖节流" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/12/22/%E9%98%B2%E6%8A%96%E8%8A%82%E6%B5%81/" class="article-date">
  <time datetime="2021-12-22T08:24:36.000Z" itemprop="datePublished">2021-12-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/12/22/%E9%98%B2%E6%8A%96%E8%8A%82%E6%B5%81/">防抖节流</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="防抖节流"><a href="#防抖节流" class="headerlink" title="防抖节流"></a>防抖节流</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">// 防抖</span><br><span class="line">function debounce(fn, delay=300) &#123;</span><br><span class="line">  //默认300毫秒</span><br><span class="line">  let timer;</span><br><span class="line">  return function() &#123;</span><br><span class="line">    var args = arguments;</span><br><span class="line">    if (timer) &#123;</span><br><span class="line">      clearTimeout(timer);</span><br><span class="line">    &#125;</span><br><span class="line">    timer = setTimeout(() =&gt; &#123;</span><br><span class="line">      fn.apply(this, args); // 改变this指向为调用debounce所指的对象</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">window.addEventListener(</span><br><span class="line">  &quot;scroll&quot;,</span><br><span class="line">  debance(() =&gt; &#123;</span><br><span class="line">    console.log(111);</span><br><span class="line">  &#125;, 1000)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// 节流</span><br><span class="line">//方法一：设置一个标志</span><br><span class="line">function throttle(fn, delay) &#123;</span><br><span class="line">  let flag = true;</span><br><span class="line">  return () =&gt; &#123;</span><br><span class="line">    if (!flag) return;</span><br><span class="line">    flag = false;</span><br><span class="line">    timer = setTimeout(() =&gt; &#123;</span><br><span class="line">      fn();</span><br><span class="line">      flag = true;</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">//方法二：使用时间戳</span><br><span class="line">function throttle(fn, delay) &#123;</span><br><span class="line">  let startTime = new Date();</span><br><span class="line">  return () =&gt; &#123;</span><br><span class="line">    let endTime = new Date();</span><br><span class="line">    if (endTime - startTime &gt;= delay) &#123;</span><br><span class="line">      fn();</span><br><span class="line">      startTime = endTime;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">window.addEventListener(</span><br><span class="line">  &quot;scroll&quot;,</span><br><span class="line">  throttle(() =&gt; &#123;</span><br><span class="line">    console.log(111);</span><br><span class="line">  &#125;, 1000)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/22/%E9%98%B2%E6%8A%96%E8%8A%82%E6%B5%81/" data-id="ckzxuvze0000f66mud79sbly1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-promise实现" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/12/22/promise%E5%AE%9E%E7%8E%B0/" class="article-date">
  <time datetime="2021-12-22T08:18:48.000Z" itemprop="datePublished">2021-12-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/12/22/promise%E5%AE%9E%E7%8E%B0/">promise实现</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="promise实现"><a href="#promise实现" class="headerlink" title="promise实现"></a>promise实现</h2><pre><code>// 这里使用es6 class实现
class Mypromise &#123;
  constructor (fn) &#123;
    // 表示状态
    this.state = &#39;pending&#39;
    // 表示then注册的成功函数
    this.successFun = []
    // 表示then注册的失败函数
    this.failFun = []

const resolve = val =&gt; &#123;
  // 保持状态改变不可变（resolve和reject只准触发一种）
  if (this.state !== &#39;pending&#39;) return
  // 成功触发时机  改变状态 同时执行在then注册的回调事件
  this.state = &#39;success&#39;
  console.log(&#39;resolve&#39;)
  // 为了保证then事件先注册（主要是考虑在promise里面写同步代码） promise规范 这里为模拟异步
  setTimeout(() =&gt; &#123;
    // 执行当前事件里面所有的注册函数
    console.log(&#39;resolve2&#39;, val)
    this.successFun.forEach(item =&gt; item.call(this, val))
  &#125;)
&#125;

const reject = err =&gt; &#123;
  if (this.state !== &#39;pending&#39;) return
  // 失败触发时机  改变状态 同时执行在then注册的回调事件
  this.state = &#39;fail&#39;
  // 为了保证then事件先注册（主要是考虑在promise里面写同步代码） promise规范 这里模拟异步
  setTimeout(() =&gt; &#123;
    this.failFun.forEach(item =&gt; item.call(this, err))
  &#125;)
&#125;
// 调用函数
try &#123;
  fn(resolve, reject)
&#125; catch (error) &#123;
  reject(error)
&#125;
&#125;

// 实例方法 then

then (resolveCallback, rejectCallback) &#123;
  console.log(&#39;then&#39;)
  // 判断回调是否是函数
  resolveCallback = typeof resolveCallback !== &#39;function&#39; ? v =&gt; v : resolveCallback
  rejectCallback =
    typeof rejectCallback !== &#39;function&#39;
      ? err =&gt; &#123;
        throw err
      &#125;
      : rejectCallback
  // 为了保持链式调用  继续返回promise
  return new Mypromise((resolve, reject) =&gt; &#123;
    // 将回调注册到successFun事件集合里面去
    this.successFun.push(val =&gt; &#123;
      try &#123;
        //    执行回调函数
        const x = resolveCallback(val)
        // （最难的一点）
        // 如果回调函数结果是普通值 那么就resolve出去给下一个then链式调用  如果是一个promise对象（代表又是一个异步） 那么调用x的then方法 将resolve和reject传进去 等到x内部的异步 执行完毕的时候（状态完成）就会自动执行传入的resolve 这样就控制了链式调用的顺序
        x instanceof Mypromise ? x.then(resolve, reject) : resolve(x)
      &#125; catch (error) &#123;
        reject(error)
      &#125;
    &#125;)

    this.failFun.push(val =&gt; &#123;
      try &#123;
        //    执行回调函数
        const x = rejectCallback(val)
        x instanceof Mypromise ? x.then(resolve, reject) : reject(x)
      &#125; catch (error) &#123;
        reject(error)
      &#125;
    &#125;)
  &#125;)
&#125;

// 静态方法
static all (promiseArr) &#123;
  const result = []
  // 声明一个计数器 每一个promise返回就加一
  let count = 0
  return new Mypromise((resolve, reject) =&gt; &#123;
    for (let i = 0; i &lt; promiseArr.length; i++) &#123;
      promiseArr[i].then(
        res =&gt; &#123;
          // 这里不能直接push数组  因为要控制顺序一一对应(感谢评论区指正)
          result[i] = res
          count++
          // 只有全部的promise执行成功之后才resolve出去
          if (count === promiseArr.length) &#123;
            resolve(result)
          &#125;
        &#125;,
        err =&gt; &#123;
          reject(err)
        &#125;
      )
    &#125;
  &#125;)
&#125;

// 静态方法
static race (promiseArr) &#123;
  return new Mypromise((resolve, reject) =&gt; &#123;
    for (let i = 0; i &lt; promiseArr.length; i++) &#123;
      promiseArr[i].then(
        res =&gt; &#123;
          // promise数组只要有任何一个promise 状态变更  就可以返回
          resolve(res)
        &#125;,
        err =&gt; &#123;
          reject(err)
        &#125;
      )
    &#125;
  &#125;)
&#125;
</code></pre>
<p>  }</p>
<p>  // 使用<br>  const promise1 = new Mypromise((resolve, reject) =&gt; {<br>    setTimeout(() =&gt; {<br>      resolve(123)<br>    }, 2000)<br>  })<br>  const promise2 = new Mypromise((resolve, reject) =&gt; {<br>    setTimeout(() =&gt; {<br>      resolve(1234)<br>    }, 1000)<br>  })</p>
<p>  Mypromise.all([promise1, promise2]).then(res =&gt; {<br>    console.log(res)<br>  })</p>
<p>  Mypromise.race([promise1, promise2]).then(res =&gt; {<br>    console.log(res)<br>  })<br>  promise1<br>    .then(<br>      res =&gt; {<br>        console.log(res) // 过两秒输出123<br>        return new Mypromise((resolve, reject) =&gt; {<br>          setTimeout(() =&gt; {<br>            resolve(‘success’)<br>          }, 1000)<br>        })<br>      },<br>      err =&gt; {<br>        console.log(err)<br>      }<br>    )<br>    .then(<br>      res =&gt; {<br>        console.log(res) // 再过一秒输出success<br>      },<br>      err =&gt; {<br>        console.log(err)<br>      }<br>    )</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/22/promise%E5%AE%9E%E7%8E%B0/" data-id="ckzxuvzdv000b66mu4rgq8a4t" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-watermark" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/12/20/watermark/" class="article-date">
  <time datetime="2021-12-20T07:50:15.000Z" itemprop="datePublished">2021-12-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/12/20/watermark/">watermark</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="在util目录下创建watermark-js"><a href="#在util目录下创建watermark-js" class="headerlink" title="在util目录下创建watermark.js"></a>在util目录下创建watermark.js</h2><pre><code>  let watermark = &#123;&#125;;

  let id = &quot;set-customer-watermark-id&quot;;

  let setWatermark = (dom, str) =&gt; &#123;
    if (document.getElementById(id) !== null) &#123;
      dom
        ? dom.removeChild(document.getElementById(id))
        : document.body.removeChild(document.getElementById(id));
    &#125;

    // 创建一个画布
    let can = document.createElement(&quot;canvas&quot;);
    can.width = 200;
    can.height = 200;

    // 设置画布样式
    let cans = can.getContext(&quot;2d&quot;);
    cans.rotate((-30 * Math.PI) / 180);
    cans.font = &quot;15px Vedana&quot;;
    cans.fillStyle = &quot;rgba(0,0,0,0.15)&quot;;
    cans.textAlign = &quot;left&quot;;
    cans.textBaseline = &quot;Middle&quot;;
    cans.fillText(str, 0, can.height);

    // 创建整体容器，设置样式
    let div = document.createElement(&quot;div&quot;);
    div.id = id;
    div.style.pointerEvents = &quot;none&quot;;
    div.style.top = &quot;0px&quot;;
    div.style.left = &quot;-100px&quot;;
    div.style.position = &quot;absolute&quot;;
    div.style.zIndex = &quot;1000&quot;;
    div.style.width = document.documentElement.clientWidth + &quot;px&quot;;
    div.style.height = document.documentElement.clientHeight + &quot;px&quot;;
    div.style.background =
      &quot;url(&quot; + can.toDataURL(&quot;image/png&quot;) + &quot;) left top repeat&quot;;

    dom ? dom.appendChild(div) : document.body.appendChild(div);
    return id;
  &#125;;

  // 设置水印
  watermark.set = (dom, str) =&gt; &#123;
    let id = setWatermark(dom, str);
    setInterval(() =&gt; &#123;
      if (document.getElementById(id) === null) &#123;
        id = setWatermark(dom, str);
      &#125;
    &#125;, 500);
    window.onresize = () =&gt; &#123;
      setWatermark(dom, str);
    &#125;;
  &#125;;

  // 清除水印
  watermark.remove = () =&gt; &#123;
    if (document.getElementById(id) !== null) &#123;
      document.getElementById(id).style.display = &quot;none&quot;;
    &#125;
  &#125;;

  export default watermark;
</code></pre>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><pre><code>  &lt;template&gt;
    &lt;div class=&quot;home&quot; id=&quot;water-mark-content&quot;&gt;
      &lt;HelloWorld msg=&quot;Welcome to Your Vue.js App&quot; /&gt;
    &lt;/div&gt;
  &lt;/template&gt;

  &lt;script&gt;
  // @ is an alias to /src
  import HelloWorld from &quot;@/components/HelloWorld.vue&quot;;
  import Watermark from &quot;@/utils/lib/watermark&quot;;

  export default &#123;
    name: &quot;Home&quot;,
    components: &#123;
      HelloWorld,
    &#125;,
    mounted() &#123;
      this.setWatermark();
    &#125;,
    methods: &#123;
      setWatermark() &#123;
        const text = `lorretta-2021年9月7日15点37分`;
        Watermark.set(document.getElementById(&quot;water-mark-content&quot;), text);
      &#125;,
    &#125;,
  &#125;;
  &lt;/script&gt;
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/20/watermark/" data-id="ckzxuvzdw000c66mu2r0r5bx5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hexo操作" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/12/16/hexo%E6%93%8D%E4%BD%9C/" class="article-date">
  <time datetime="2021-12-16T08:22:03.000Z" itemprop="datePublished">2021-12-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/12/16/hexo%E6%93%8D%E4%BD%9C/">hexo操作</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="发布命令-如果是第一次，必须用ssh的方式才可以。"><a href="#发布命令-如果是第一次，必须用ssh的方式才可以。" class="headerlink" title="发布命令 //如果是第一次，必须用ssh的方式才可以。"></a>发布命令 //如果是第一次，必须用ssh的方式才可以。</h2><pre><code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d
</code></pre>
<h2 id="新建文章"><a href="#新建文章" class="headerlink" title="新建文章"></a>新建文章</h2><pre><code>hexo new articleTest
</code></pre>
<h2 id="搭建步骤"><a href="#搭建步骤" class="headerlink" title="搭建步骤"></a>搭建步骤</h2><p>//第一条   安装hexo的基础框架，如果很慢的话，可以考虑挂下梯子，或者换个源<br>     npm install -g hexo</p>
<pre><code> //第二条   初始化hexo框架 这个可能会比较慢
 hexo init
 
 //第三条 安装所需要的组件
 npm install
 
 //第四条 编译生成静态页面
 hexo g
 
 //第五条 启动本地服务
 hexo s
</code></pre>
<p>合并：1.     npm install -g hexo &amp;&amp; hexo init &amp;&amp; npm install &amp;&amp;npm i hexo-deployer-git &amp;&amp; hexo g &amp;&amp; hexo s<br>git 步骤：2.git config –global user.name ‘feixiangsnaik’ &amp;&amp;git config –global user.email ‘<a href="mailto:&#102;&#x65;&#x69;&#120;&#x69;&#97;&#110;&#x67;&#115;&#x6e;&#97;&#105;&#108;&#x40;&#103;&#x6d;&#x61;&#x69;&#x6c;&#x2e;&#99;&#111;&#109;">&#102;&#x65;&#x69;&#120;&#x69;&#97;&#110;&#x67;&#115;&#x6e;&#97;&#105;&#108;&#x40;&#103;&#x6d;&#x61;&#x69;&#x6c;&#x2e;&#99;&#111;&#109;</a>‘&amp;&amp;ssh-keygen -t rsa -C ‘<a href="mailto:&#x66;&#x65;&#x69;&#120;&#x69;&#97;&#x6e;&#x67;&#x73;&#110;&#97;&#x69;&#108;&#64;&#x67;&#109;&#x61;&#105;&#108;&#x2e;&#x63;&#111;&#x6d;">&#x66;&#x65;&#x69;&#120;&#x69;&#97;&#x6e;&#x67;&#x73;&#110;&#97;&#x69;&#108;&#64;&#x67;&#109;&#x61;&#105;&#108;&#x2e;&#x63;&#111;&#x6d;</a>‘    然后回车到底，把pub的内容拷贝到github ssh里面。<br>3.deploy:<br>  type: git<br>  repository: <a target="_blank" rel="noopener" href="https://github.com/feixiangsnaik/feixiangsnaik.github.io">https://github.com/feixiangsnaik/feixiangsnaik.github.io</a><br>  branch: master<br>把上面代码添加到config.xml最下面<br>4.hexo new post “article title”新建文章，然后 hexo g &amp;&amp; hexo s &amp;&amp;hexo d（或者清除缓存，每次修改配置文件后都要执行该命令<br>  hexo clean</p>
<p>  // 生成静态页面文件，每次clean后也要重新生成<br>  hexo g</p>
<p>  // 向仓库推送文件<br>  hexo d）<br>合并：hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/16/hexo%E6%93%8D%E4%BD%9C/" data-id="ckzxuvzde000566mu9fka96wu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-jwt" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/12/16/jwt/" class="article-date">
  <time datetime="2021-12-16T08:15:18.000Z" itemprop="datePublished">2021-12-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/12/16/jwt/">jwt</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h2><pre><code>let Koa = require(&#39;koa&#39;);
let Router = require(&#39;koa-router&#39;);
let bodyparser = require(&#39;koa-bodyparser&#39;);
let jwt = require(&#39;jwt-simple&#39;);
let router = new Router()
let app = new Koa();
app.use(bodyparser());
// 可以自己自定义
let secret = &#39;zhenglei&#39;;
// 验证是否登陆
router.post(&#39;/login&#39;,async(ctx)=&gt;&#123; 
    let &#123;username,password&#125; = ctx.request.body;
    if(username === &#39;admin&#39; &amp;&amp; password === &#39;admin&#39;)&#123;
      // 通常会查数据库，这里简单的演示
      let token =  jwt.encode(username, secret);
      ctx.body = &#123;
            code:200,
            username,
            token,
      &#125;
    &#125;
&#125;);
// 验证是否有权限
router.get(&#39;/validate&#39;,async(ctx)=&gt;&#123; 
    let Authorization = ctx.get(&#39;authorization&#39;)
    let [,token] = Authorization.split(&#39; &#39;);
    if(token)&#123;
        try&#123;
            let r = jwt.decode(token,secret);
            ctx.body = &#123;
                code:200,
                username:r,
                token
            &#125;
        &#125;catch(e)&#123;
            ctx.body = &#123;
                code:401,
                data:&#39;没有登陆&#39;
            &#125;
        &#125;
    &#125;else&#123;
        ctx.body = &#123;
            code:401,
            data:&#39;没有登陆&#39;
        &#125;
    &#125;
  
&#125;);
app.use(router.routes());
app.listen(4000);
</code></pre>
<p>作者：腾讯IMWeb团队<br>链接：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6873700061000237069">https://juejin.cn/post/6873700061000237069</a><br>来源：稀土掘金<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/16/jwt/" data-id="ckzxuvzdk000766mug8ejap4r" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-好网站" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/11/26/%E5%A5%BD%E7%BD%91%E7%AB%99/" class="article-date">
  <time datetime="2021-11-26T01:21:15.000Z" itemprop="datePublished">2021-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/11/26/%E5%A5%BD%E7%BD%91%E7%AB%99/">好网站</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problemset/all/">leecode中文站</a> <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problemset/all/">https://leetcode-cn.com/problemset/all/</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/11/26/%E5%A5%BD%E7%BD%91%E7%AB%99/" data-id="ckzxuvzdy000d66mu3fxh6twp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/02/21/nginx%E9%85%8D%E7%BD%AE/">nginx配置</a>
          </li>
        
          <li>
            <a href="/2022/02/21/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2021/12/25/docker/">docker</a>
          </li>
        
          <li>
            <a href="/2021/12/23/%E6%AD%A3%E5%88%99%E5%B8%B8%E7%94%A8/">正则常用</a>
          </li>
        
          <li>
            <a href="/2021/12/22/%E9%98%B2%E6%8A%96%E8%8A%82%E6%B5%81/">防抖节流</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>